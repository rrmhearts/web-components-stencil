/*! Built with http://stenciljs.com */
import{h}from"../udemywccourse.core.js";import{a as AV_API_KEY}from"./chunk-98b35419.js";var StockFinder=function(){function e(){this.searchResults=[],this.loading=!1}return e.prototype.onFindStocks=function(e){var t=this;e.preventDefault(),this.loading=!0,fetch("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords="+this.stockNameInput.value+"&apikey="+AV_API_KEY).then(function(e){return e.json()}).then(function(e){t.searchResults=e.bestMatches.map(function(e){return{name:e["2. name"],symbol:e["1. symbol"]}}),console.log(t.searchResults),t.loading=!1}).catch(function(e){console.log(e),t.loading=!1})},e.prototype.onSelectSymbol=function(e){this.ucSymbolSelected.emit(e)},e.prototype.render=function(){var e=this,t=h("ul",null,this.searchResults.map(function(t){return h("li",{onClick:e.onSelectSymbol.bind(e,t.symbol)},h("strong",null,t.symbol)," - ",t.name)}));return this.loading&&(t=h("uc-spinner",null)),[h("form",{onSubmit:this.onFindStocks.bind(this)},h("input",{id:"stock-symbol",ref:function(t){return e.stockNameInput=t}}),h("button",{type:"submit"},"Find!")),t]},Object.defineProperty(e,"is",{get:function(){return"uc-stock-finder"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{loading:{state:!0},searchResults:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"ucSymbolSelected",method:"ucSymbolSelected",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".sc-uc-stock-finder-h{font-family:sans-serif;border:2px solid var(--color-primary,#000);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form.sc-uc-stock-finder   input.sc-uc-stock-finder{font:inherit;color:var(--color-primary,#000);padding:.1rem .25rem;display:block;margin-bottom:.5rem}form.sc-uc-stock-finder   button.sc-uc-stock-finder:focus, form.sc-uc-stock-finder   input.sc-uc-stock-finder:focus{outline:none}form.sc-uc-stock-finder   button.sc-uc-stock-finder{font:inherit;padding:.25rem .5rem;border:1px solid var(--color-primary,#000);background:var(--color-primary,#000);color:var(--color-primary-inverse,#fff);cursor:pointer}form.sc-uc-stock-finder   button.sc-uc-stock-finder:active, form.sc-uc-stock-finder   button.sc-uc-stock-finder:hover{background:var(--color-primary-highlight,grey);border-color:var(--color-primary-highlight,grey)}form.sc-uc-stock-finder   button.sc-uc-stock-finder:disabled{background:#ccc;border-color:#ccc;color:#fff;cursor:not-allowed}ul.sc-uc-stock-finder{margin:0;padding:0;list-style:none}li.sc-uc-stock-finder{margin:.25rem 0;padding:.25rem;border:1px solid #ccc;cursor:pointer}li.sc-uc-stock-finder:active, li.sc-uc-stock-finder:hover{background:var(--color-primary,#000);color:var(--color-primary-inverse,#fff)}"},enumerable:!0,configurable:!0}),e}();export{StockFinder as UcStockFinder};
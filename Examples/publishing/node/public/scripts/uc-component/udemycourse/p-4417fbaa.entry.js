import{r,h as i,c as t,g as o,H as e}from"./p-5fcd96dc.js";const n=class{constructor(i){r(this,i)}render(){return i("div",{class:"lds-ring"},i("div",null),i("div",null),i("div",null),i("div",null))}};n.style=".lds-ring{display:inline-block;position:relative;width:64px;height:64px}.lds-ring div{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;width:51px;height:51px;margin:6px;border:6px solid #3b013b;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#3b013b transparent transparent transparent}.lds-ring div:nth-child(1){-webkit-animation-delay:-0.45s;animation-delay:-0.45s}.lds-ring div:nth-child(2){-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.lds-ring div:nth-child(3){-webkit-animation-delay:-0.15s;animation-delay:-0.15s}@-webkit-keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}";const s=class{constructor(i){r(this,i),this.searchResults=[],this.loading=!1,this.ucSymbolSelected=t(this,"ucSymbolSelected",7)}onFindStocks(r){r.preventDefault(),this.loading=!0,fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${this.stockNameInput.value}&apikey=11N324LBH0F98A78`).then(r=>r.json()).then(r=>{this.searchResults=r.bestMatches.map(r=>({name:r["2. name"],symbol:r["1. symbol"]})),console.log(this.searchResults),this.loading=!1}).catch(r=>{console.log(r),this.loading=!1})}onSelectSymbol(r){this.ucSymbolSelected.emit(r)}render(){let r=i("ul",null,this.searchResults.map(r=>i("li",{onClick:this.onSelectSymbol.bind(this,r.symbol)},i("strong",null,r.symbol)," - ",r.name)));return this.loading&&(r=i("uc-spinner",null)),[i("form",{onSubmit:this.onFindStocks.bind(this)},i("input",{id:"stock-symbol",ref:r=>this.stockNameInput=r}),i("button",{type:"submit"},"Find!")),r]}};s.style=":host{font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form input{font:inherit;color:var(--color-primary, black);padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--color-primary, black);background:var(--color-primary, black);color:var(--color-primary-inverse, white);cursor:pointer}form button:hover,form button:active{background:var(--color-primary-highlight, grey);border-color:var(--color-primary-highlight, grey)}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc;cursor:pointer}li:hover,li:active{background:var(--color-primary, black);color:var(--color-primary-inverse, white)}";const a=class{constructor(i){r(this,i),this.stockInputValid=!1,this.loading=!1}stockSymbolChanged(r,i){r!==i&&(this.stockUserInput=r,this.stockInputValid=!0,this.fetchStockPrice(r))}onUserInput(r){this.stockUserInput=r.target.value,this.stockInputValid=""!==this.stockUserInput.trim()}onFetchStockPrice(r){r.preventDefault(),this.stockSymbol=this.stockInput.value}componentWillLoad(){console.log("componentWillLoad"),console.log(this.stockSymbol)}componentDidLoad(){console.log("componentDidLoad"),this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.stockInputValid=!0,this.fetchStockPrice(this.stockSymbol))}componentWillUpdate(){console.log("componentWillUpdate")}componentDidUpdate(){console.log("componentDidUpdate")}componentDidUnload(){console.log("componentDidUnload")}onStockSymbolSelected(r){console.log("stock symbol selected: "+r.detail),r.detail&&r.detail!==this.stockSymbol&&(this.stockSymbol=r.detail)}fetchStockPrice(r){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${r}&apikey=11N324LBH0F98A78`).then(r=>{if(200!==r.status)throw new Error("Invalid!");return r.json()}).then(r=>{if(!r["Global Quote"])throw new Error("Invalid symbol!");this.error=null,this.fetchedPrice=+r["Global Quote"]["05. price"],this.loading=!1}).catch(r=>{this.error=r.message,this.fetchedPrice=null,this.loading=!1})}hostData(){return{class:this.error?"error":""}}__stencil_render(){let r=i("p",null,"Please enter a symbol!");return this.error&&(r=i("p",null,this.error)),this.fetchedPrice&&(r=i("p",null,"Price: $",this.fetchedPrice)),this.loading&&(r=i("uc-spinner",null)),[i("form",{onSubmit:this.onFetchStockPrice.bind(this)},i("input",{id:"stock-symbol",ref:r=>this.stockInput=r,value:this.stockUserInput,onInput:this.onUserInput.bind(this)}),i("button",{type:"submit",disabled:!this.stockInputValid||this.loading},"Fetch")),i("div",null,r)]}get el(){return o(this)}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return i(e,this.hostData(),this.__stencil_render())}};a.style=":host{font-family:sans-serif;border:2px solid var(--app-primary-color);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}:host(.error){border-color:red}form input{font:inherit;color:var(--app-primary-color);padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--app-primary-color);background:var(--app-primary-color);color:white;cursor:pointer}form button:hover,form button:active{background:#750175;border-color:#750175}form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}.lds-ring{display:inline-block;position:relative;width:64px;height:64px}.lds-ring div{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;width:51px;height:51px;margin:6px;border:6px solid var(--app-primary-color);border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:var(--app-primary-color) transparent transparent transparent}.lds-ring div:nth-child(1){-webkit-animation-delay:-0.45s;animation-delay:-0.45s}.lds-ring div:nth-child(2){-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.lds-ring div:nth-child(3){-webkit-animation-delay:-0.15s;animation-delay:-0.15s}@-webkit-keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes lds-ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}";export{n as uc_spinner,s as uc_stock_finder,a as uc_stock_price}